<div>
	<textarea id="encodetext"></textarea>
	<button onclick="encode(document.getElementById('encodetext').value)">Encode!</button>
	<br>
	<ul>
		<li><input type="checkbox" oninput="options.Pepper = this.checked"><a>Pepper</a></li>
	</ul>
</div>
<div>
	<pre id="result">result goes here</pre>
</div>
<script>
	const ingredients = {Pepper: function(target, isDecoding) {
		let index = -1 + isDecoding, charset = "abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ", charset2 = charset.repeat(2)
		return target.replace(/[a-z]/gi, function(item) {
			index++
			return charset2.at(charset.indexOf(item) + ((index * 6 % 12) - 3))
		})
	}}
	const options = {Pepper: false}
	function encode(text) {
		let result = text
		const cache = Object.keys(options)
		for (const key of cache) {
			if (options[key]) {
				result = ingredients[key](result, 0)
			}
		}
		document.getElementById("result").textContent = result
	}
</script>
